<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1,minimum-scale=1,maximum-scale=1,user-scalable=no" />
    <title>农林宝</title>
    <script src="js/mui.min.js"></script>
   	<script src="js/common.js" type="text/javascript" charset="utf-8"></script>
   	<script src="js/template.js"></script>
    <link href="css/mui.min.css" rel="stylesheet"/>
	<link rel="stylesheet" type="text/css" href="css/public.css"/>        

    <script src="views/tabbar-compiled.js"></script>
	<script src="views/index-compiled.js"></script>
	<script src="views/find-compiled.js"></script>
	<script src="views/mine-compiled.js"></script>
</head>
<body>
	<header class="mui-bar mui-bar-nav" id="titleView">
		<!--<a class="mui-icon mui-action-menu mui-icon-bars mui-pull-left" href="#"></a>-->
	    <h1 class="mui-title">首页</h1>
	    <a class="mui-icon mui-icon-gear mui-pull-right" href="#" style="visibility: hidden;"></a>
	</header>
	<!--tabbar-->
	<nav class="mui-bar mui-bar-tab" id="tabbar-content"></nav>
	
	<div class="mui-content">
		<!--首页-->
		<div class="mui-control-content mui-active" id="index-content">
            <!--banner-->
            <div id="index-banner"></div>
            <!--顶部选项卡-->
            <div id="index-toptab"></div>
            <!--主要产品推荐-->
            <h5 class="mui-content-padded">产品推荐</h5>
            <div id="index-product"></div>
            <!--数据看板-->
            <h5 class="mui-text-center mui-content-padded nlb-v-align">
                <span><img src="images/promise.png" class="nlb-icon-image"/></span>
                账户资金由北京农业银行保管
            </h5>
            <div id="index-dataView"></div>
        </div>
	
        <!--林场模块-->
        <div class="mui-control-content" id="tree-content">
            <p>林场</p>
        </div>

        <!--发现模块-->
        <div class="mui-control-content" id="find-content">
            <h5 class="mui-content-padded"></h5>
            <div id="find-toptab"></div>

            <h5 class="mui-content-padded"></h5>
            <div id="find-setting"></div>
        </div>
	
        <!--我的模块-->
        <div class="mui-control-content" id="mine-content">
            <div id="mine-profit" class="mui-card mui-text-center" style="background-color: #37A061;"></div>

            <ul class="mui-table-view">
                <li class="mui-table-view-cell">
                    <a href="#">
                        我的总资产<span>查看详情</span>
                        <p>￥0.00</p>
                    </a>
                </li>
            </ul>
            <h5 class="mui-content-padded"></h5>
            <ul class="mui-table-view">
                <li class="mui-table-view-cell mui-media">
                    <a href="#" class="mui-navigate-right">
                        <img class="mui-pull-left nlb-cell-image" src="images/setting/mine-card.png">
                        <div class="mui-media-body">
                            开设电子账户和绑卡
                        </div>
                    </a>
                </li>
            </ul>
            <h5 class="mui-content-padded"></h5>
            <div id="mine-setting"></div>
        </div>
	</div>
	
	
	<script type="text/javascript" charset="utf-8">
      	mui.init({});
      	
      	//渲染底部tabbar  
      	var tabbarData = {
      		count:4,
      		list:[{
      		name:"首页",
      		icon:"mui-icon-home",
      		href:"#index-content",
      		isIndex:true
      	},
      	{
      		name:"林场",
      		icon:"mui-icon-map",
      		href:"#tree-content",
      		isIndex:false
      	},
      	{
      		name:"发现",
      		icon:"mui-icon-navigate",
      		href:"#find-content",
      		isIndex:false
      	},
      	{
      		name:"我的",
      		icon:"mui-icon-person",
      		href:"#mine-content",
      		isIndex:false
      	}]
      	};
      	nlb.fillView('tabbar-content',view_tabbar.tabbar,tabbarData);
      	
      	//渲染顶部banner
      	var bannerData = {
      		count:3,
      		list:[{
      			href:"#",
      			src:"images/banner/010.jpg"
      		},
      		{
      			href:"#",
      			src:"images/banner/020.png"
      		},
      		{
      			href:"#",
      			src:"images/banner/030.png"
      		}]
      	};
      	nlb.fillView('index-banner',view_index.banner,bannerData);
      	
      	//渲染顶部tab页
      	var toptabData = {
      		list:[{
      			name:"消息",
      			href:"#",
      			image:"images/toptab/toptab-1.png"
      		},
      		{
      			name:"邮件",
      			href:"#",
      			image:"images/toptab/toptab-2.png"
      		},
      		{
      			name:"定位",
      			href:"#",
      			image:"images/toptab/toptab-3.png"
      		},
      		{
      			name:"帮助",
      			href:"#",
      			image:"images/toptab/toptab-4.png"
      		}]
      	};

      	nlb.fillView('index-toptab',view_index.toptab,toptabData);
      	
      	//渲染主产品页面
      	var indexProductData = {
      		list:[{
      			areaName:"黑龙江林场",
      			title:"新手特享",
      			ratio:"18.8%",
      			ratioDesc:"年出借率",
      			desc:"1亩起投，10亩封顶"
      		},
      		{
      			areaName:"甘肃林场",
      			title:"限时特享",
      			ratio:"19.9%",
      			ratioDesc:"年出借率",
      			desc:"11亩起投，20亩封顶"
      		}]
      	};
        nlb.fillView('index-product',view_index.product,indexProductData);
      	
      	//渲染数据看板
      	var dataViewData = {
      		title:"宝妹数据看板",
      		moneyDesc:"累计成交金额（元）",
      		moneyNum:"2600万",
      		userDesc:"投资用户数（人）",
      		userNum:"12万7486",
      		desc:"风险提示：本平台数据非特别指出，为我司统计所得。"
      	};
        nlb.fillView('index-dataView',view_index.dataView,dataViewData);
      	
      	//渲染find模块
        var findToptabData = {
            list:[{
                title:"客服帮助",
                href:"#",
                image:"images/find/find-kf.png"
            },
                {
                title:"投资介绍",
                href:"#",
                image:"images/find/find-js.png"
            }]
        };
        nlb.fillView('find-toptab',view_find.toptab,findToptabData);

      	var findSettingData = {
      		list:[{
      			title:"新手指南",
                href:"#",
      			image:"images/find/find-xs.png"
      		},
      		{
      			title:"风险保障",
                href:"#",
      			image:"images/find/find-bz.png"
      		},
      		{
      			title:"公司介绍",
                href:"#",
      			image:"images/find/find-gsjs.png"
      		},
      		{
      			title:"相关新闻",
                href:"#",
      			image:"images/find/find-news.png"
      		}]
      	};
        nlb.fillView('find-setting',view_find.setting,findSettingData);
      	
      	//渲染我的模块中设置
        var profitData = {
            title:"昨日收益",
            moneyNum:"0.00",
            totalNum:"0.00"
        };
        nlb.fillView('mine-profit',view_mine.profit,profitData);

      	var mindSettingData = {
      		list:[{
      			title:"特权本金",
      			image:"images/setting/mine-money.png",
      			href:"#"
      		},
      		{
      			title:"推广收益",
      			image:"images/setting/mine-tg.png",
      			href:"#"
      		},
      		{
      			title:"交易记录",
      			image:"images/setting/mine-list.png",
      			href:"#"
      		}]
      	};
        nlb.fillView('mine-setting',view_mine.setting,mindSettingData);
      	
      	//点击产品时跳转到详情界面
      	mui('.nlb-main-product').on('tap','a',function(){      		      		
      		var href = this.getAttribute('href');
      		var info = this.getAttribute('extra-info');
      		var obj = {name:'xiaos',age:22};
      		mui.openWindow({      			
				url: href,
				data:{
					extraInfo:info,
					obj:obj
				}
			});
      	});



      	//切换tabbar时改变标题 显示/隐藏设置图标
      	mui('#tabbar-content').on('tap','a',function(){
      		var url = this.getAttribute('href');
      		var module = url.split('-')[0].substr(1);
      		var title = mui('#titleView h1')[0];
      		var setting = mui('#titleView a')[0];
      		var titleMap = {
      			index:'首页',
      			tree:'林场',
      			find:'发现',
      			mine:'我的'
      		};
      		title.innerHTML = titleMap[module];
            setting.style.visibility = titleMap[module] === '我的'? 'visible': 'hidden';
      		
      	});
    </script>
	
</body>
</html>